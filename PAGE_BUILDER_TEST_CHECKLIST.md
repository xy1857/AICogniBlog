# 页面装修真实数据测试清单

## 测试环境
- 浏览器：Chrome/Firefox/Safari
- 开发服务器：http://localhost:5174
- 后端服务器：确保后端正常运行

## 测试前准备

### 1. 确保后端数据库有数据
```sql
-- 检查是否有分类
SELECT * FROM category;

-- 检查是否有文章
SELECT * FROM article WHERE status = 1;

-- 检查分类文章数量
SELECT c.name, COUNT(a.id) as count 
FROM category c 
LEFT JOIN article a ON c.id = a.category_id AND a.status = 1 AND a.deleted = 0
GROUP BY c.id, c.name;
```

### 2. 启动服务
```bash
# 启动后端
cd blog-backend
mvn spring-boot:run

# 启动前端
cd blog-frontend
npm run dev
```

## 测试步骤

### Phase 1: 文章网格组件测试

#### 测试 1.1: 基础加载
- [ ] 访问 http://localhost:5174/page-builder
- [ ] 登录账号
- [ ] 从左侧拖拽"文章网格"组件到画布
- [ ] **预期结果**：显示真实文章列表（标题、摘要、封面、标签、日期、阅读量）
- [ ] **检查点**：
  - [ ] 文章数据是真实的（不是模拟数据）
  - [ ] 封面图正常显示
  - [ ] 标签正确显示
  - [ ] 日期格式正确
  - [ ] 阅读量显示

#### 测试 1.2: 加载状态
- [ ] 刷新页面
- [ ] **预期结果**：先显示 Loading 动画，然后显示文章
- [ ] **检查点**：
  - [ ] Loading 图标旋转
  - [ ] 加载完成后 Loading 消失

#### 测试 1.3: 空状态
- [ ] 在数据库中删除所有已发布文章（或修改查询条件）
- [ ] 刷新页面
- [ ] **预期结果**：显示"暂无文章"提示
- [ ] **检查点**：
  - [ ] 显示文档图标
  - [ ] 显示"暂无文章"文字

#### 测试 1.4: 分页功能
- [ ] 确保数据库有超过 9 篇文章
- [ ] 配置每页显示 9 篇
- [ ] **预期结果**：底部显示分页器
- [ ] **检查点**：
  - [ ] 点击第 2 页，加载新的文章
  - [ ] 页码正确高亮
  - [ ] 文章内容更新

#### 测试 1.5: 无限滚动
- [ ] 在配置面板中将"加载方式"改为"无限滚动"
- [ ] **预期结果**：显示"加载更多"按钮
- [ ] **检查点**：
  - [ ] 点击"加载更多"，追加新文章
  - [ ] 文章数量增加
  - [ ] 没有更多文章时，按钮消失

#### 测试 1.6: 不同列数
- [ ] 在配置面板中修改列数为 2
- [ ] **预期结果**：文章以 2 列显示
- [ ] 修改为 4 列
- [ ] **预期结果**：文章以 4 列显示

#### 测试 1.7: 卡片样式
- [ ] 切换卡片样式为"简约"
- [ ] **预期结果**：卡片边框样式改变
- [ ] 切换为"杂志"
- [ ] **预期结果**：封面更大，标题更大

#### 测试 1.8: 悬停效果
- [ ] 鼠标悬停在文章卡片上
- [ ] **预期结果**：卡片上浮（默认）
- [ ] 切换悬停效果为"缩放"
- [ ] **预期结果**：封面图放大

#### 测试 1.9: 错误处理
- [ ] 停止后端服务
- [ ] 刷新页面
- [ ] **预期结果**：降级到模拟数据，不报错
- [ ] **检查点**：
  - [ ] 控制台有错误日志
  - [ ] 页面仍显示文章（模拟数据）
  - [ ] 用户体验不受影响

---

### Phase 2: 分类导航组件测试

#### 测试 2.1: 基础加载
- [ ] 拖拽"分类导航"组件到画布
- [ ] **预期结果**：显示真实分类列表
- [ ] **检查点**：
  - [ ] 显示"全部"选项
  - [ ] 显示数据库中的分类
  - [ ] 每个分类显示文章数量
  - [ ] 文章数量正确

#### 测试 2.2: 标签页样式
- [ ] 默认样式应该是"标签页"
- [ ] **预期结果**：横向标签页布局
- [ ] **检查点**：
  - [ ] 点击分类，底部边框高亮
  - [ ] 文章数量显示在括号中

#### 测试 2.3: 侧边栏样式
- [ ] 在配置面板中切换样式为"侧边栏"
- [ ] **预期结果**：纵向侧边栏布局
- [ ] **检查点**：
  - [ ] 左侧有颜色边框
  - [ ] 悬停时背景变色
  - [ ] 点击时背景高亮

#### 测试 2.4: 药丸样式
- [ ] 切换样式为"药丸"
- [ ] **预期结果**：圆角按钮布局
- [ ] **检查点**：
  - [ ] 按钮圆角
  - [ ] 选中时背景色改变
  - [ ] 悬停时上浮

#### 测试 2.5: 下拉菜单样式
- [ ] 切换样式为"下拉菜单"
- [ ] **预期结果**：显示下拉按钮
- [ ] **检查点**：
  - [ ] 点击按钮展开菜单
  - [ ] 菜单中显示所有分类
  - [ ] 点击分类后菜单关闭

#### 测试 2.6: 显示/隐藏图标
- [ ] 取消勾选"显示图标"
- [ ] **预期结果**：图标消失
- [ ] 重新勾选
- [ ] **预期结果**：图标显示

#### 测试 2.7: 显示/隐藏数量
- [ ] 取消勾选"显示数量"
- [ ] **预期结果**：文章数量消失
- [ ] 重新勾选
- [ ] **预期结果**：数量显示

#### 测试 2.8: 错误处理
- [ ] 停止后端服务
- [ ] 刷新页面
- [ ] **预期结果**：降级到默认分类
- [ ] **检查点**：
  - [ ] 显示默认分类（全部、技术、生活、旅行）
  - [ ] 不报错
  - [ ] 用户体验不受影响

---

### Phase 3: 组件联动测试（未实现）

#### 测试 3.1: 分类筛选文章
- [ ] 同时添加"分类导航"和"文章网格"组件
- [ ] 点击分类导航中的某个分类
- [ ] **预期结果**：文章网格只显示该分类的文章
- [ ] **状态**：⏳ 待实现

---

### Phase 4: 保存和预览测试

#### 测试 4.1: 保存配置
- [ ] 添加多个组件并配置
- [ ] 点击"保存"按钮
- [ ] **预期结果**：显示"保存成功"提示
- [ ] **检查点**：
  - [ ] localStorage 中有 pageConfig
  - [ ] localStorage 中有 pageConfig_username

#### 测试 4.2: 预览页面
- [ ] 点击"预览"按钮
- [ ] **预期结果**：弹窗显示预览
- [ ] **检查点**：
  - [ ] 所有组件正常显示
  - [ ] 真实数据正常加载
  - [ ] 样式正确

#### 测试 4.3: 查看我的主页
- [ ] 点击"查看我的主页"按钮
- [ ] **预期结果**：新标签页打开个人主页
- [ ] **检查点**：
  - [ ] URL 是 /home/username
  - [ ] 所有组件正常显示
  - [ ] 真实数据正常加载

#### 测试 4.4: 刷新保持
- [ ] 配置好页面后保存
- [ ] 刷新浏览器
- [ ] 重新进入装修器
- [ ] **预期结果**：配置保持不变
- [ ] **检查点**：
  - [ ] 组件还在
  - [ ] 配置没丢失

---

### Phase 5: 响应式测试

#### 测试 5.1: 平板视图
- [ ] 调整浏览器宽度到 768px
- [ ] **预期结果**：
  - [ ] 文章网格变为 2 列
  - [ ] 分类导航适配

#### 测试 5.2: 手机视图
- [ ] 调整浏览器宽度到 375px
- [ ] **预期结果**：
  - [ ] 文章网格变为 1 列
  - [ ] 分类导航可横向滚动

---

### Phase 6: 性能测试

#### 测试 6.1: 大量数据
- [ ] 数据库中有 100+ 篇文章
- [ ] 加载页面
- [ ] **预期结果**：
  - [ ] 首屏加载时间 < 2秒
  - [ ] 分页切换流畅
  - [ ] 无明显卡顿

#### 测试 6.2: 网络慢速
- [ ] 打开 Chrome DevTools
- [ ] Network 选项卡，设置为 Slow 3G
- [ ] 刷新页面
- [ ] **预期结果**：
  - [ ] 显示 Loading 状态
  - [ ] 最终正常加载
  - [ ] 无白屏

---

## 测试结果记录

### 通过的测试
- [ ] 文章网格基础加载
- [ ] 文章网格加载状态
- [ ] 文章网格分页
- [ ] 分类导航基础加载
- [ ] 分类导航样式切换
- [ ] 保存和预览

### 失败的测试
- [ ] 测试项：___________
- [ ] 错误信息：___________
- [ ] 截图：___________

### 待修复的问题
1. 
2. 
3. 

---

## 测试完成标准

- [ ] 所有 P0 测试通过
- [ ] 所有 P1 测试通过
- [ ] 无阻塞性 Bug
- [ ] 性能达标
- [ ] 响应式正常

---

## 下一步

测试通过后，继续实现：
1. 留言板真实数据
2. 评论墙真实数据
3. 统计数据真实化
4. 友情链接配置化

