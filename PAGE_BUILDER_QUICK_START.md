# 🚀 页面装修功能快速启动指南

## 5分钟快速开始

### 第一步：启动后端服务

```bash
cd blog-backend
mvn spring-boot:run
```

**等待看到：** `Started AICogniBlogApplication`

### 第二步：前端已运行

前端开发服务器已在运行：
- URL: http://localhost:5174
- 状态: ✅ 运行中

### 第三步：访问装修器

1. 打开浏览器访问：http://localhost:5174
2. 登录账号（如果未登录）
3. 点击右上角用户名
4. 选择"页面装修"

### 第四步：开始装修

1. **添加文章网格**
   - 从左侧拖拽"文章网格"到画布
   - 自动显示真实文章数据
   - 可以看到标题、封面、标签、阅读量

2. **添加分类导航**
   - 拖拽"分类导航"到画布
   - 自动显示真实分类和文章数量
   - 尝试切换不同样式（标签页/侧边栏/药丸）

3. **添加留言板**
   - 拖拽"互动组件"到画布
   - 在右侧配置面板选择"留言板"
   - 尝试发表一条留言

4. **添加Hero横幅**
   - 拖拽"Hero横幅"到画布顶部
   - 修改标题和副标题
   - 调整背景颜色

5. **添加友情链接**
   - 拖拽"友情链接"到画布底部
   - 查看默认链接
   - 可以在配置中修改

### 第五步：保存和预览

1. 点击顶部工具栏的"保存"按钮
2. 点击"查看我的主页"按钮
3. 在新标签页查看装修效果

---

## 功能验证清单

### ✅ 必须验证的功能

- [ ] 文章网格显示真实文章（不是模拟数据）
- [ ] 分类导航显示真实分类和数量
- [ ] 留言板可以发表留言
- [ ] 评论墙显示最新评论
- [ ] 统计数据显示真实数字
- [ ] 保存后刷新页面配置不丢失
- [ ] 个人主页可以正常访问

### ⚠️ 如果遇到问题

#### 问题1：文章网格显示模拟数据
**原因：** 后端未启动或数据库无数据
**解决：**
```bash
# 检查后端是否运行
curl http://localhost:8080/api/articles

# 如果返回错误，重启后端
cd blog-backend
mvn spring-boot:run
```

#### 问题2：分类导航显示默认分类
**原因：** 数据库中没有分类数据
**解决：**
```sql
-- 检查分类表
SELECT * FROM category;

-- 如果为空，插入测试数据
INSERT INTO category (name, slug) VALUES 
('技术', 'tech'),
('生活', 'life'),
('随笔', 'essay');
```

#### 问题3：留言板无法提交
**原因：** 后端 API 未启动
**解决：**
```bash
# 检查留言板 API
curl http://localhost:8080/api/guestbook

# 如果404，确保后端代码已编译
cd blog-backend
mvn clean compile
mvn spring-boot:run
```

#### 问题4：保存后配置丢失
**原因：** localStorage 被清除
**解决：**
- 不要清除浏览器缓存
- 使用同一个浏览器
- 检查 localStorage 中是否有 `pageConfig`

---

## 数据准备

### 确保数据库有数据

```sql
-- 1. 检查文章数量
SELECT COUNT(*) FROM article WHERE status = 1 AND deleted = 0;

-- 2. 检查分类
SELECT c.name, COUNT(a.id) as article_count 
FROM category c 
LEFT JOIN article a ON c.id = a.category_id AND a.status = 1 AND a.deleted = 0
GROUP BY c.id, c.name;

-- 3. 检查评论
SELECT COUNT(*) FROM comment WHERE status = 1 AND deleted = 0;

-- 4. 如果数据不足，创建测试数据
-- （参考 schema-full.sql 中的初始化数据）
```

---

## 快速演示脚本

### 演示场景：展示给他人看

1. **打开装修器**（10秒）
   - 访问 http://localhost:5174/page-builder
   - 展示界面布局：左中右三栏

2. **添加Hero横幅**（20秒）
   - 拖拽到画布
   - 修改标题为"欢迎来到我的技术博客"
   - 展示打字机效果

3. **添加文章网格**（30秒）
   - 拖拽到画布
   - 指出显示的是真实文章数据
   - 点击配置面板，修改列数为2
   - 切换卡片样式

4. **添加分类导航**（20秒）
   - 拖拽到画布
   - 指出显示真实分类和文章数量
   - 切换样式为"药丸"

5. **添加留言板**（30秒）
   - 拖拽互动组件
   - 选择"留言板"类型
   - 发表一条测试留言
   - 展示留言立即显示

6. **保存和预览**（20秒）
   - 点击"保存"
   - 点击"查看我的主页"
   - 展示最终效果

**总时间：** 约2分钟

---

## API 端点测试

### 使用 curl 测试后端 API

```bash
# 1. 测试文章列表
curl http://localhost:8080/api/articles?page=1&size=10

# 2. 测试分类列表
curl http://localhost:8080/api/categories

# 3. 测试统计数据
curl http://localhost:8080/api/stats

# 4. 测试留言列表
curl http://localhost:8080/api/guestbook?page=1&size=10

# 5. 测试最新评论
curl http://localhost:8080/api/comments/latest?limit=10
```

**预期结果：** 所有请求都应该返回 JSON 数据，不应该返回 404 或 500 错误。

---

## 浏览器控制台检查

### 打开浏览器开发者工具

1. 按 F12 打开开发者工具
2. 切换到 Console 标签
3. 刷新页面

**正常情况：**
- ✅ 没有红色错误
- ✅ 可能有蓝色的 info 日志
- ✅ API 请求成功（200 状态码）

**异常情况：**
- ❌ 红色错误：`Failed to load articles`
  - 检查后端是否运行
  - 检查 API 地址是否正确
  
- ❌ 红色错误：`Network Error`
  - 检查后端端口（应该是 8080）
  - 检查 CORS 配置

---

## 成功标志

### 你应该看到：

1. **文章网格**
   - 显示真实文章标题（不是"Vue 3 组合式 API"这种示例）
   - 显示真实阅读量
   - 显示真实发布日期

2. **分类导航**
   - 显示数据库中的分类名称
   - 显示正确的文章数量
   - "全部"选项的数量是所有分类的总和

3. **留言板**
   - 可以成功发表留言
   - 留言立即显示在列表中
   - 显示头像和时间

4. **统计数据**
   - 显示真实的文章总数
   - 显示真实的总访问量
   - 数字不是固定的 12580

---

## 下一步

### 功能已完成，可以：

1. **测试所有功能**
   - 参考 `PAGE_BUILDER_TEST_CHECKLIST.md`
   - 逐项测试验证

2. **查看详细文档**
   - `PAGE_BUILDER_FINAL_SUMMARY.md` - 完整总结
   - `PAGE_BUILDER_README.md` - 功能文档
   - `PAGE_BUILDER_GUIDE.md` - 使用指南

3. **开始使用**
   - 装修你的个人主页
   - 分享给朋友
   - 收集反馈

4. **扩展功能**（可选）
   - 添加更多组件
   - 实现分类筛选联动
   - 添加页面配置云端存储

---

## 联系支持

如果遇到问题：
1. 检查本文档的"如果遇到问题"部分
2. 查看浏览器控制台错误信息
3. 检查后端日志
4. 参考测试清单文档

---

## 🎉 开始使用吧！

现在一切就绪，开始装修你的个人博客主页吧！

